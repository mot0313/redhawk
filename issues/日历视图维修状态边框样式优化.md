# 日历视图维修状态边框样式优化

## 任务概述
优化告警信息页面日历视图中维修项目的状态显示逻辑，根据告警状态和维修计划安排情况设置不同颜色的左边框，提供更直观的状态标识。

## 需求详情

### 边框颜色规则
- **蓝色左边框**：已安排维修计划且告警状态为 `active`（计划中）
- **绿色左边框**：已安排维修计划且告警状态为 `resolved`（已完成）
- **无特殊边框**：其他状态不特殊处理

## 技术实现

### 前端修改

#### 1. 修改样式类逻辑
**文件**: `frontend/src/views/redfish/alert/index.vue`  
**位置**: `getMaintenanceItemClass` 方法（约第805行）

**原实现**:
```javascript
function getMaintenanceItemClass(item) {
  const classMap = {
    'urgent': 'maintenance-urgent',
    'scheduled': 'maintenance-scheduled'
  }
  const statusMap = {
    'planned': 'status-planned',
    'in_progress': 'status-in-progress',
    'completed': 'status-completed',
    'cancelled': 'status-cancelled'
  }
  
  return [
    classMap[item.urgencyLevel] || 'maintenance-scheduled',
    statusMap[item.maintenanceStatus] || 'status-planned'
  ]
}
```

**新实现**:
```javascript
function getMaintenanceItemClass(item) {
  const classMap = {
    'urgent': 'maintenance-urgent',
    'scheduled': 'maintenance-scheduled'
  }
  
  // 根据告警状态和维修计划安排情况设置边框
  let statusClass = ''
  if (item.scheduledMaintenanceTime) {
    if (item.alertStatus === 'active') {
      statusClass = 'status-planned' // 蓝色边框 - 计划中
    } else if (item.alertStatus === 'resolved') {
      statusClass = 'status-in-progress' // 绿色边框 - 已完成
    }
  }
  
  return [
    classMap[item.urgencyLevel] || 'maintenance-scheduled',
    statusClass
  ].filter(Boolean) // 过滤掉空字符串
}
```

#### 2. 更新说明文字
**文件**: `frontend/src/views/redfish/alert/index.vue`  
**位置**: 日历视图说明（约第296行）

**修改内容**:
```html
<el-alert
  title="日历视图说明"
  description="此视图显示已安排维修时间的告警。蓝色左边框表示计划中，绿色左边框表示已完成。点击维修项目可查看详细信息。红色表示紧急告警，橙色表示择期告警。"
  type="info"
  :closable="false"
  show-icon
/>
```

### 样式复用

重用现有的CSS样式类：
- `.status-planned`: 蓝色左边框 (`border-left: 3px solid #3b82f6`)
- `.status-in-progress`: 绿色左边框 (`border-left: 3px solid #10b981`)

## 变更影响

### 功能影响
- **正面影响**: 提供更直观的维修状态显示，用户可以快速识别计划中和已完成的维修项目
- **兼容性**: 保持现有功能完整性，不影响其他模块

### 用户体验
- 日历视图的维修项目状态更加清晰明确
- 边框颜色与业务状态逻辑一致，降低认知负担

## 测试验证

### 验证要点
1. ✅ 有维修计划且告警状态为 `active` 的项目显示蓝色左边框
2. ✅ 有维修计划且告警状态为 `resolved` 的项目显示绿色左边框  
3. ✅ 没有维修计划的项目不显示特殊边框
4. ✅ 其他告警状态的项目不显示特殊边框
5. ✅ 紧急程度的背景色显示正常（红色/橙色）

## 完成时间
2024年12月19日

## 相关文档
- [告警信息页面日历视图功能.md](./告警信息页面日历视图功能.md) 